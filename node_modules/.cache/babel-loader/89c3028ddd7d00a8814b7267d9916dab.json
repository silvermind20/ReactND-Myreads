{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Simin\\\\Documents\\\\ReactND\\\\P1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Simin\\\\Documents\\\\ReactND\\\\P1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Simin\\\\Documents\\\\ReactND\\\\P1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Simin\\\\Documents\\\\ReactND\\\\P1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Simin\\\\Documents\\\\ReactND\\\\P1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Simin\\\\Documents\\\\ReactND\\\\P1\\\\src\\\\Search.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport * as BooksAPI from './BooksAPI';\nimport Book from './Book';\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Search, _React$Component);\n\n  function Search() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Search)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      query: '',\n      newBooks: [],\n      error: false\n    };\n\n    _this.searchBook = function (event) {\n      var query = event.target.value;\n\n      _this.setState({\n        query: query\n      });\n\n      if (query) {\n        BooksAPI.search(query.trim(), 20).then(function (searched) {\n          console.log(searched);\n          searched && searched.length > 0 ? _this.setState({\n            newBooks: searched,\n            error: false\n          }) : _this.setState({\n            newBooks: [],\n            error: true\n          });\n        });\n      } else {\n        _this.setState({\n          newBooks: [],\n          error: false\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          query = _this$state.query,\n          newBooks = _this$state.newBooks;\n      var _this$props = this.props,\n          books = _this$props.books,\n          updateBookShelf = _this$props.updateBookShelf,\n          error = _this$props.error;\n      return React.createElement(\"div\", {\n        className: \"search-books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search-books-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"close-search\",\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \"Close\"), React.createElement(\"div\", {\n        className: \"search-books-input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"query\",\n        placeholder: \"Search by title or author\",\n        value: query,\n        onChange: this.searchBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"search-books-results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, newBooks.length > 0 && React.createElement(\"ol\", {\n        className: \"books-grid\",\n        key: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, newBooks.map(function (book) {\n        return React.createElement(Book, {\n          key: book.id,\n          books: books,\n          book: book,\n          updateBookShelf: updateBookShelf,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        });\n      })), error && React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Your search keyword(s) did not found anything!\")));\n    }\n  }]);\n\n  return Search;\n}(React.Component);\n\nSearch.propTypes = {\n  books: PropTypes.array.isRequired,\n  updateBookShelf: PropTypes.func.isRequired\n};\nexport default Search;","map":{"version":3,"sources":["C:\\Users\\Simin\\Documents\\ReactND\\P1\\src\\Search.js"],"names":["React","PropTypes","Link","BooksAPI","Book","Search","state","query","newBooks","error","searchBook","event","target","value","setState","search","trim","then","searched","console","log","length","props","books","updateBookShelf","map","book","id","Component","propTypes","array","isRequired","func"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\nimport * as BooksAPI from './BooksAPI'\r\nimport Book from './Book'\r\n\r\n\r\nclass Search extends React.Component {\r\n    state = {\r\n        query: '',\r\n        newBooks: [],\r\n        error: false\r\n    }\r\n\r\n    searchBook = event => {\r\n        const query = event.target.value\r\n        this.setState({ query })\r\n        if (query) {\r\n            BooksAPI.search(query.trim(), 20).then(searched => {\r\n                console.log(searched)\r\n                searched && searched.length > 0 ?\r\n                    this.setState({ newBooks: searched, error: false }) : this.setState({ newBooks: [], error: true })\r\n            })\r\n        } else { this.setState({ newBooks: [], error: false }) }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { query, newBooks } = this.state\r\n        const { books, updateBookShelf, error } = this.props\r\n\r\n        return (\r\n            <div className=\"search-books\">\r\n                <div className=\"search-books-bar\">\r\n                    <Link className=\"close-search\" to=\"/\" >Close</Link>\r\n                    <div className=\"search-books-input-wrapper\">\r\n                        <input type=\"text\" name='query' placeholder=\"Search by title or author\"\r\n                            value={query} onChange={this.searchBook} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"search-books-results\">\r\n                    {newBooks.length > 0 && (\r\n                        <ol className=\"books-grid\" key>\r\n                            {newBooks.map(book => (<Book key={book.id} books={books} book={book} updateBookShelf={updateBookShelf} />))}\r\n                        </ol>\r\n                    )}\r\n                    {error && (<h4>Your search keyword(s) did not found anything!</h4>)}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nSearch.propTypes = {\r\n    books: PropTypes.array.isRequired,\r\n    updateBookShelf: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Search"]},"metadata":{},"sourceType":"module"}